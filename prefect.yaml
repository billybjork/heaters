# Generic project metadata (optional but good practice)
name: meatspace-ingest
prefect-version: 3 # Specify your Prefect version if needed

# Define how deployments are built (optional, defaults usually work)
build: null

# Define deployments
deployments:
  - name: scheduled-ingest-dispatcher # Name for the deployment
    entrypoint: flows/ingest_flows.py:scheduled_ingest_initiator # Path to file:flow_function
    work_pool:
      name: default-agent-pool # Target work pool
      work_queue_name: default # Target work queue
    schedule:
      interval: 60 # Run every 60 seconds (1 minute)
      # timezone: America/New_York # Optional: specify timezone
    tags: ["ingest", "scheduled"]
    description: Periodically checks DB for new ingest work and triggers tasks.
    parameters: {} # Add if your flow takes parameters